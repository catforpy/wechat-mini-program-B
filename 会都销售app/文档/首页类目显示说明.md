# 首页类目显示说明

> 更新时间：2026-02-08
> 相关文件：[pages/index/index.vue](../pages/index/index.vue)

---

## 一、首页数据绑定

首页已经正确绑定到类目数据源，会自动显示更新后的类目信息。

### 数据导入

```typescript
import { getCategoriesByEntityType, EntityType } from '@/data/categories-by-entity'
```

### 数据获取

```typescript
// 根据当前选中的主体类型获取对应的一级类目
const currentCategories = computed(() => {
  const entityType = entityTypes[currentEntityType.value].type
  return getCategoriesByEntityType(entityType)
})

// 获取当前选中一级类目下的二级类目
const currentSecondLevelCategories = computed(() => {
  return currentCategories.value[currentFirstLevel.value]?.secondLevel || []
})

// 获取当前选中二级类目下的三级模板
const currentThirdLevelTemplates = computed(() => {
  return currentSecondLevelCategories.value[currentSecondLevel.value]?.templates || []
})
```

---

## 二、类目显示层级

### 1️⃣ 主体类型切换（顶部标签栏）

```
企业  |  个人  |  境外
```

**数据对应**：
- **企业** → `EntityType.COMPANY` → 24个一级类目
- **个人** → `EntityType.PERSONAL` → 9个一级类目
- **境外** → `EntityType.OVERSEAS` → 15个一级类目

### 2️⃣ 一级类目标签（横向滚动）

根据选中的主体类型显示对应的一级类目：

**企业（24个）**：
物流服务 | 教育服务 | 医疗服务 | 政务民生 | 金融业 | 交通服务 | 房地产服务 | 生活服务 | IT科技 | 餐饮服务 | 旅游服务 | 时政信息 | 文娱 | 工具 | 电商平台 | 商家自营 | 商业服务 | 公益 | 社交 | 体育 | 汽车服务 | 资讯 | 深度合成 | 内测

**个人（9个）**：
物流服务 | 教育服务 | 交通服务 | 生活服务 | 餐饮服务 | 旅游服务 | 工具 | 商业服务 | 体育

**境外（15个）**：
快递业与邮政 | 教育 | 出行与交通 | 房地产 | 生活服务 | 餐饮 | 旅游 | 工具 | 商业服务 | 体育 | 汽车 | IT科技 | 公共服务 | 本地服务 | 跨境电商

### 3️⃣ 二级类目列表（左侧纵向列表）

根据选中的一级类目显示对应的二级类目：

**示例 - 个人主体 > 生活服务**：
```
丽人服务
婚庆服务
家政服务
```

**示例 - 境外主体 > 本地服务**：
```
服装/鞋/箱包
玩具
家电/数码/手机
美妆/洗护
珠宝/饰品/眼镜/钟表
运动/户外/乐器
鲜花/园艺/工艺品
家居/家饰/家纺
机械/电子器件
办公/文具
酒
食品
百货/超市/便利店
免税商店
电商平台
奶粉
保健品
药品
宠物食品/用品
就医服务
医疗资讯
证券
银行
```

### 4️⃣ 三级模板卡片（右侧网格）

根据选中的二级类目显示对应的三级模板：

**示例 - 个人主体 > 生活服务 > 丽人服务**：
```
┌─────────┬─────────┬─────────┐
│  美甲   │  美容   │  美睫   │
└─────────┴─────────┴─────────┘
┌─────────┬─────────┬─────────┐
│  美发   │  纹身   │  祛痘   │
└─────────┴─────────┴─────────┘
┌─────────┬─────────┬─────────┐
│ 纤体瘦身 │  舞蹈   │  瑜伽   │
└─────────┴─────────┴─────────┘
┌─────────┬─────────┬─────────┐
│  其他   │         │         │
└─────────┴─────────┴─────────┘
```

---

## 三、类目数据完整性

### ✅ 个人主体（9个一级类目，全部有数据）

| 一级类目 | 二级类目数量 | 示例二级类目 |
|---------|------------|-------------|
| 物流服务 | 2个 | 查件、装卸搬运 |
| 教育服务 | 4个 | 婴幼儿教育、在线教育、教育装备、特殊人群教育 |
| 交通服务 | 1个 | 代驾服务 |
| 生活服务 | 3个 | 丽人服务（10个三级模板）、婚庆服务、家政服务 |
| 餐饮服务 | 1个 | 餐厅排队 |
| 旅游服务 | 1个 | 出境WiFi |
| 工具 | 11个 | 记账、日历、天气、办公、图片处理等 |
| 商业服务 | 6个 | 律师、企业管理、会展服务等 |
| 体育 | 2个 | 体育培训、在线健身 |

### ✅ 境外主体（15个一级类目，全部有数据）

| 一级类目 | 二级类目数量 | 说明 |
|---------|------------|-----|
| 快递业与邮政 | 3个 | 含限制条件 |
| 教育 | 6个 | 含限制条件、内测类目 |
| 出行与交通 | 7个 | 含区域限制（如共享单车仅限新加坡、日本）|
| 房地产 | 1个 | 需要资质证明 |
| 生活服务 | 6个 | 含限制条件 |
| 餐饮 | 2个 | 餐厅排队、外卖点餐 |
| 旅游 | 9个 | 含内测类目（旅游退税、演出票务）|
| 工具 | 14个 | 记账、日历、天气等 |
| 商业服务 | 7个 | 含限制条件、特殊资质要求 |
| 体育 | 2个 | 体育培训、在线健身 |
| 汽车 | 5个 | 养车/修车、汽车报价/比价等 |
| IT科技 | 1个 | 基础电信运营商 |
| 公共服务 | 3个 | 医务卫生、治安/出入境、商务 |
| 本地服务 | 22个 | 含大量商品销售类目 |
| 跨境电商 | 18个 | 电商平台及各类商品 |

### ⚠️ 企业主体（24个一级类目，部分有数据）

当前已有数据的类目：
- ✅ 房地产服务（3个二级类目）
- ✅ IT科技（2个二级类目）
- ✅ 旅游服务（3个二级类目）
- ✅ 工具（6个二级类目）
- ✅ 商家自营（7个二级类目）
- ✅ 体育（2个二级类目）
- ✅ 资讯（1个二级类目）
- ✅ 内测（1个二级类目）

待完善数据的类目：
- ⚠️ 物流服务（7个二级类目）
- ⚠️ 教育服务（16个二级类目）
- ⚠️ 医疗服务（18个二级类目）
- ⚠️ 政务民生（44个二级类目）
- ⚠️ 金融业（26个二级类目）
- ⚠️ 交通服务（20个二级类目）
- ⚠️ 生活服务（14个二级类目）
- ⚠️ 餐饮服务（4个二级类目）
- ⚠️ 时政信息、文娱、电商平台、商业服务、公益、社交、汽车服务、深度合成

---

## 四、交互逻辑

### 切换主体类型

```typescript
const handleEntityTypeChange = (index: number) => {
  currentEntityType.value = index  // 切换主体类型
  currentFirstLevel.value = 0      // 重置为第一个一级类目
  currentSecondLevel.value = 0     // 重置为第一个二级类目
}
```

**效果**：
- 主体类型标签高亮切换
- 一级类目标签更新为对应主体的类目
- 二级类目列表更新为第一个一级类目的二级类目
- 三级模板卡片更新为第一个二级类目的模板

### 切换一级类目

```typescript
const handleFirstLevelChange = (index: number) => {
  currentFirstLevel.value = index   // 切换一级类目
  currentSecondLevel.value = 0      // 重置为第一个二级类目
}
```

**效果**：
- 一级类目标签高亮切换
- 二级类目列表更新
- 三级模板卡片更新

### 切换二级类目

```typescript
const handleSecondLevelChange = (index: number) => {
  currentSecondLevel.value = index  // 切换二级类目
}
```

**效果**：
- 二级类目列表项高亮切换
- 三级模板卡片更新

---

## 五、样式特点

### 1. 主体类型标签
- 默认：灰色背景 `#f5f5f5`
- 激活：紫色背景 `#667eea` + 白色文字

### 2. 一级类目标签
- 默认：灰色文字 `#666`
- 激活：黑色加粗 `#333` + 底部紫色下划线

### 3. 二级类目列表
- 默认：浅灰背景 `#f8f8f8` + 灰色文字
- 激活：白色背景 + 黑色加粗文字 + 左侧紫色边框

### 4. 三级模板卡片
- 渐变背景 + 紫色图标
- 点击时缩放效果

---

## 六、特殊情况处理

### 1. 无数据的类目

当某一级类目没有数据时（`hasData: false`）：
- 一级类目标签仍然显示
- 点击后二级类目列表为空
- 右侧不显示任何模板

### 2. 无三级模板的二级类目

当二级类目的 `templates` 为空数组时：
- 二级类目列表正常显示
- 右侧不显示任何模板卡片
- 标题仍会显示二级类目名称

### 3. 境外主体的限制条件

境外主体某些类目包含 `restrictions` 字段（如"不得涉及"内容）：
- 这些限制条件存储在数据中
- 当前首页未显示限制条件
- 后续可在详情页中展示

---

## 七、快速验证

### 验证个人主体

1. 点击"个人"标签
2. 确认显示9个一级类目标签
3. 点击"生活服务"
4. 确认左侧显示3个二级类目：丽人服务、婚庆服务、家政服务
5. 点击"丽人服务"
6. 确认右侧显示10个模板卡片：美甲、美容、美睫等

### 验证境外主体

1. 点击"境外"标签
2. 确认显示15个一级类目标签
3. 点击"本地服务"
4. 确认左侧显示22个二级类目
5. 点击"服装/鞋/箱包"
6. 确认右侧为空（该类目无三级模板）

### 验证企业主体

1. 点击"企业"标签
2. 确认显示24个一级类目标签
3. 点击"房地产服务"
4. 确认左侧显示3个二级类目：房屋中介、物业管理、房屋装修
5. 点击"房屋中介"
6. 确认右侧显示3个模板：二手房、新房、租房

---

## 八、后续优化建议

1. **显示类目详情**
   - 点击二级类目时，显示资质要求和适用范围
   - 对于境外主体，同时显示限制条件

2. **搜索功能**
   - 实现类目名称搜索
   - 支持搜索三级模板

3. **数据加载优化**
   - 对于大量类目，实现懒加载
   - 添加加载状态提示

4. **空状态提示**
   - 当无数据时，显示友好提示
   - 引导用户选择其他类目

---

**总结**：首页已正确绑定到更新后的类目数据，会自动显示所有三个主体类型的完整类目信息。个人和境外主体的数据已完整，企业主体数据待进一步补充。
