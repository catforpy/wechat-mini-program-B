# å¿«é€Ÿå¼€å§‹ - é”€å”®appä¼šéƒ½

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. åŸºç¡€è®¾æ–½å±‚ (100% å®Œæˆ)

| æ¨¡å— | æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|------|
| HTTP è¯·æ±‚ | `src/utils/http/` | âœ… æ‹¦æˆªå™¨ã€ç¼“å­˜ã€é‡è¯•ã€Tokenç®¡ç† |
| æœ¬åœ°å­˜å‚¨ | `src/utils/storage/` | âœ… uni.storageå°è£…ã€è¿‡æœŸæ—¶é—´ |
| å†…å­˜ç¼“å­˜ | `src/utils/performance/cache.ts` | âœ… LRUç¼“å­˜ã€TTLã€ç»Ÿè®¡ |
| SQLiteæ•°æ®åº“ | `src/utils/database/` | âœ… ORMã€äº‹åŠ¡ã€æ‰¹é‡å¤„ç† |
| å·¥å…·å‡½æ•° | `src/utils/` | âœ… é˜²æŠ–èŠ‚æµã€æ ¼å¼åŒ–ã€éªŒè¯ã€UI |
| ç±»å‹å®šä¹‰ | `src/types/` | âœ… TypeScriptç±»å‹ |
| é…ç½®ç®¡ç† | `src/config/` | âœ… ç¯å¢ƒé…ç½®ã€å¸¸é‡ |
| æ ·å¼ç³»ç»Ÿ | `src/styles/` | âœ… SCSSå˜é‡ã€å…¨å±€æ ·å¼ |

### 2. é¡¹ç›®é…ç½® (100% å®Œæˆ)

- âœ… `package.json` - ä¾èµ–é…ç½®
- âœ… `tsconfig.json` - TypeScripté…ç½®
- âœ… `vite.config.ts` - Viteæ„å»ºé…ç½®ï¼ˆå·²ä¿®å¤vueå¤–éƒ¨æ¨¡å—é—®é¢˜ï¼‰
- âœ… `.eslintrc.js` - ESLintä»£ç æ£€æŸ¥
- âœ… `.prettierrc.js` - Prettieræ ¼å¼åŒ–
- âœ… `.editorconfig` - ç¼–è¾‘å™¨é…ç½®
- âœ… `.browserslistrc` - Browserslisté…ç½®
- âœ… `.gitignore` - Gitå¿½ç•¥æ–‡ä»¶
- âœ… `.env.development` - å¼€å‘ç¯å¢ƒå˜é‡
- âœ… `.env.production` - ç”Ÿäº§ç¯å¢ƒå˜é‡
- âœ… `manifest.json` - åº”ç”¨é…ç½®ï¼ˆå·²æ·»åŠ SQLiteï¼‰
- âœ… `.vscode/` - VSCodeé…ç½®

### 3. æ–‡æ¡£ (100% å®Œæˆ)

- âœ… [Uniappå¼€å‘æ‰‹å†Œ-æ¶æ„ä¸æœ€ä½³å®è·µ.md](./Uniappå¼€å‘æ‰‹å†Œ-æ¶æ„ä¸æœ€ä½³å®è·µ.md)
- âœ… [åŸºç¡€è®¾æ–½ä½¿ç”¨æŒ‡å—.md](./åŸºç¡€è®¾æ–½ä½¿ç”¨æŒ‡å—.md)
- âœ… [é¡¹ç›®åˆå§‹åŒ–æŒ‡å—.md](./é¡¹ç›®åˆå§‹åŒ–æŒ‡å—.md)
- âœ… [README.md](./é”€å”®appä¼šéƒ½/README.md)

---

## ğŸš€ ç«‹å³å¼€å§‹

### æ­¥éª¤ 1: å®‰è£…ä¾èµ–

```bash
cd é”€å”®appä¼šéƒ½
npm install
```

### æ­¥éª¤ 2: é…ç½®ç¯å¢ƒ

1. **ä¿®æ”¹ API åœ°å€**

ç¼–è¾‘ `.env.development`ï¼š
```bash
VITE_API_BASE_URL=https://ä½ çš„å¼€å‘APIåœ°å€.com
```

2. **é…ç½®å°ç¨‹åº AppID**ï¼ˆå¯é€‰ï¼‰

ç¼–è¾‘ `manifest.json`ï¼š
```json
{
  "mp-weixin": {
    "appid": "ä½ çš„å°ç¨‹åºAppID"
  }
}
```

### æ­¥éª¤ 3: è¿è¡Œé¡¹ç›®

```bash
# H5 ç«¯ï¼ˆæ¨èç”¨äºå¿«é€Ÿå¼€å‘ï¼‰
npm run dev:h5

# å¾®ä¿¡å°ç¨‹åº
npm run dev:mp-weixin
```

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
é”€å”®appä¼šéƒ½/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    â³ APIå±‚ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ components/             â³ ç»„ä»¶åº“ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ composables/            â³ ç»„åˆå¼å‡½æ•°ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ config/                 âœ… é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ layouts/                â³ å¸ƒå±€ç»„ä»¶ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ pages/                  â³ é¡µé¢ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ stores/                 â³ PiniaçŠ¶æ€ç®¡ç†ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ styles/                 âœ… æ ·å¼ç³»ç»Ÿ
â”‚   â”œâ”€â”€ types/                  âœ… TypeScriptç±»å‹
â”‚   â”œâ”€â”€ utils/                  âœ… å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ App.vue                 âœ… åº”ç”¨å…¥å£
â”‚   â””â”€â”€ main.ts                 âœ… ä¸»å…¥å£
â”œâ”€â”€ .vscode/                    âœ… VSCodeé…ç½®
â”œâ”€â”€ .env.development            âœ… å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ .env.production             âœ… ç”Ÿäº§ç¯å¢ƒ
â”œâ”€â”€ manifest.json               âœ… åº”ç”¨é…ç½®
â”œâ”€â”€ package.json                âœ… ä¾èµ–é…ç½®
â””â”€â”€ vite.config.ts              âœ… Viteé…ç½®
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘

### æ–¹æ¡ˆ A: ä» API å±‚å¼€å§‹ï¼ˆæ¨èï¼‰

åˆ›å»º API æ¥å£å°è£…ï¼Œå¯¹æ¥åç«¯ï¼š

```typescript
// src/api/user.ts
import { httpRequest } from '@/utils'
import type { LoginParams, LoginResponse, UserInfo } from '@/types'

export const userApi = {
  // ç”¨æˆ·ç™»å½•
  login(params: LoginParams) {
    return httpRequest.post<LoginResponse>('/auth/login', params)
  },

  // è·å–ç”¨æˆ·ä¿¡æ¯
  getUserInfo() {
    return httpRequest.get<UserInfo>('/user/info')
  }
}
```

### æ–¹æ¡ˆ B: ä»çŠ¶æ€ç®¡ç†å¼€å§‹

åˆ›å»º Pinia storesï¼Œç®¡ç†åº”ç”¨çŠ¶æ€ï¼š

```typescript
// src/stores/user.ts
import { defineStore } from 'pinia'
import { userApi } from '@/api'

export const useUserStore = defineStore('user', {
  state: () => ({
    userInfo: null as UserInfo | null,
    token: ''
  }),

  actions: {
    async login(params: LoginParams) {
      const res = await userApi.login(params)
      this.token = res.token
      this.userInfo = res.userInfo
    }
  }
})
```

### æ–¹æ¡ˆ C: ä»åŸºç¡€ç»„ä»¶å¼€å§‹

åˆ›å»ºå¯å¤ç”¨çš„ UI ç»„ä»¶ï¼š

```vue
<!-- src/components/base/Button.vue -->
<template>
  <button :class="['x-button', `x-button--${type}`]" @click="handleClick">
    <slot />
  </button>
</template>

<script setup lang="ts">
interface Props {
  type?: 'primary' | 'success' | 'warning'
}

const props = withDefaults(defineProps<Props>(), {
  type: 'primary'
})

const emit = defineEmits<{
  click: []
}>()

const handleClick = () => {
  emit('click')
}
</script>
```

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### HTTP è¯·æ±‚

```typescript
import { httpRequest } from '@/utils'

// GET è¯·æ±‚ï¼ˆå¸¦ç¼“å­˜ï¼‰
const data = await httpRequest.get('/user/list', {}, {
  cache: 60000 // ç¼“å­˜1åˆ†é’Ÿ
})

// POST è¯·æ±‚
await httpRequest.post('/user/create', { name: 'å¼ ä¸‰' })
```

### æœ¬åœ°å­˜å‚¨

```typescript
import Storage from '@/utils/storage'

// å­˜å‚¨æ•°æ®ï¼ˆ7å¤©è¿‡æœŸï¼‰
await Storage.set('token', 'abc123', { expire: 604800000 })

// è·å–æ•°æ®
const token = await Storage.get('token')
```

### ç¼“å­˜ç®¡ç†

```typescript
import { CacheManager } from '@/utils'

const cache = new CacheManager({ maxSize: 100 })
cache.set('key', value, 30000) // 30ç§’è¿‡æœŸ
const data = cache.get('key')
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: ç¼–è¯‘æŠ¥é”™ "vue cannot be included in manualChunks"?

A: å·²ä¿®å¤ï¼`vite.config.ts` å·²ç§»é™¤ `manualChunks` ä¸­çš„ vueã€‚

### Q: Browserslist è­¦å‘Šï¼Ÿ

A: å·²ä¿®å¤ï¼åˆ›å»ºäº† `.browserslistrc` é…ç½®æ–‡ä»¶ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ

A: åœ¨ `src/pages/` åˆ›å»ºé¡µé¢ï¼Œç„¶ååœ¨ `pages.json` ä¸­æ³¨å†Œï¼š

```json
{
  "pages": [
    {
      "path": "pages/user/profile",
      "style": {
        "navigationBarTitleText": "ä¸ªäººä¸­å¿ƒ"
      }
    }
  ]
}
```

---

## ğŸ“– å‚è€ƒæ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [Uniappå¼€å‘æ‰‹å†Œ](./Uniappå¼€å‘æ‰‹å†Œ-æ¶æ„ä¸æœ€ä½³å®è·µ.md) | æ¶æ„è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ– |
| [åŸºç¡€è®¾æ–½æŒ‡å—](./åŸºç¡€è®¾æ–½ä½¿ç”¨æŒ‡å—.md) | å·¥å…·å‡½æ•°è¯¦ç»†ä½¿ç”¨ |
| [åˆå§‹åŒ–æŒ‡å—](./é¡¹ç›®åˆå§‹åŒ–æŒ‡å—.md) | é¡¹ç›®é…ç½®è¯´æ˜ |
| [APIæ¥å£æ‰‹å†Œ](./APIæ¥å£æ‰‹å†Œ-å°ç¨‹åºç»‘å®šåŠŸèƒ½.md) | åç«¯æ¥å£æ–‡æ¡£ |

---

## âœ¨ ç‰¹æ€§äº®ç‚¹

- âš¡ **é«˜æ€§èƒ½** - LRUç¼“å­˜ã€è¯·æ±‚ç¼“å­˜ã€é˜²æŠ–èŠ‚æµ
- ğŸ”’ **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- ğŸ“¦ **æ¨¡å—åŒ–** - é«˜å†…èšä½è€¦åˆçš„æ¶æ„è®¾è®¡
- ğŸ¨ **å¯æ‰©å±•** - æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œæ˜“äºæ‰©å±•
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - æ”¯æŒSQLiteæ•°æ®åº“ï¼ˆAppç«¯ï¼‰
- ğŸ“± **è·¨å¹³å°** - ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ

---

**ğŸ‰ åŸºç¡€è®¾æ–½å·²å…¨éƒ¨å®Œæˆï¼Œå¼€å§‹ä½ çš„å¼€å‘ä¹‹æ—…å§ï¼**
