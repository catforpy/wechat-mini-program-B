# ç¼–è¯‘é—®é¢˜ä¿®å¤è¯´æ˜

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### 1. æ ·å¼æ–‡ä»¶è·¯å¾„é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
Cannot find module '/Volumes/DudaDate/å¾®ä¿¡å°ç¨‹åºå¼€å‘/é”€å”®appä¼šéƒ½/é”€å”®appä¼šéƒ½/styles/index.scss'
```

**åŸå› **: `@/` åˆ«ååœ¨ Uniapp ç¼–è¯‘æ—¶å¯èƒ½ä¸ç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**: ä¿®æ”¹ `main.ts`ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„

```typescript
// ä¿®å¤å‰
import '@/styles/index.scss'

// ä¿®å¤å
import './src/styles/index.scss'
```

---

### 2. Pinia è­¦å‘Š

**è­¦å‘Šä¿¡æ¯**:
```
"pinia" cannot be included in manualChunks
```

**åŸå› **: Uniapp ä¼šè‡ªåŠ¨å°† Vueã€Pinia ç­‰ä½œä¸ºå¤–éƒ¨æ¨¡å—å¤„ç†

**è§£å†³æ–¹æ¡ˆ**: ç§»é™¤ `vite.config.ts` ä¸­çš„ `manualChunks` é…ç½®

```typescript
// ä¿®å¤å‰
rollupOptions: {
  output: {
    manualChunks: {
      'pinia': ['pinia'],
      'utils': ['@/utils']
    }
  }
}

// ä¿®å¤å
build: {
  minify: 'terser',
  terserOptions: {
    compress: {
      drop_console: true,
      drop_debugger: true
    }
  }
  // Uniapp ä¼šè‡ªåŠ¨å¤„ç†åˆ†åŒ…
}
```

---

### 3. Browserslist è¿‡æœŸè­¦å‘Š

**è­¦å‘Šä¿¡æ¯**:
```
Browserslist: caniuse-lite is outdated
```

**è§£å†³æ–¹æ¡ˆ**: æ·»åŠ äº†è‡ªåŠ¨æ›´æ–°å’Œç¦ç”¨è­¦å‘Šçš„é…ç½®

1. åˆ›å»ºäº† `.browserslistrc` é…ç½®æ–‡ä»¶
2. åˆ›å»ºäº† `.npmrc` ç¦ç”¨æ›´æ–°é€šçŸ¥
3. åœ¨ `package.json` ä¸­æ·»åŠ äº† `predev` è„šæœ¬è‡ªåŠ¨æ›´æ–°

---

## ğŸš€ ç°åœ¨å¯ä»¥æ­£å¸¸è¿è¡Œäº†

```bash
# è¿è¡Œé¡¹ç›®
npm run dev:h5
```

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·å°è¯•ï¼š

```bash
# æ¸…ç†ç¼“å­˜
rm -rf node_modules unpackage/.cache
npm install

# é‡æ–°è¿è¡Œ
npm run dev:h5
```

---

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `main.ts` | ä¿®å¤äº†æ ·å¼å¯¼å…¥è·¯å¾„ |
| `vite.config.ts` | ç§»é™¤äº† manualChunks é…ç½® |
| `.browserslistrc` | æµè§ˆå™¨å…¼å®¹æ€§é…ç½® |
| `.npmrc` | npm é…ç½®ï¼ˆç¦ç”¨æ›´æ–°é€šçŸ¥ï¼‰ |
| `package.json` | æ·»åŠ äº† predev è‡ªåŠ¨æ›´æ–°è„šæœ¬ |

---

**æ‰€æœ‰é—®é¢˜å·²è§£å†³ï¼** âœ…
